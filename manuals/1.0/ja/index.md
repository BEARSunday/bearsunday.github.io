---
layout: docs-ja
title: イントロダクション
category: Manual
permalink: /manuals/1.0/ja/
---

# BEAR.Sundayとは

BEAR.SundayとはPHPのWebアプリケーションフレームワークです。
BEAR.Sundayの目標は、標準に準拠し高品質で**API中心**のRESTfulアプリケーションの**フレームワーク**を提供することです。

## フレームワーク

**BEAR.Sunday**は3つのオブジェクトフレームワークで構成されています。

`Ray.Di`は[依存関係逆転の原則](http://en.wikipedia.org/wiki/Dependency_inversion_principle)に基づいてオブジェクトをインターフェイスで結びます。

`Ray.Aop`は[アスペクト指向プログラミング](http://en.wikipedia.org/wiki/Aspect-oriented_programming)で本質的関心と横断的関心を結びます。

`BEAR.Resource`はアプリケーションの情報や機能をリソースにして[REST制約](https://en.wikipedia.org/wiki/Representational_state_transfer)で結びます。

アプリケーションもWebと同じように統一されたメソッドとURIでリソースを操作します。強力なDIとAOPでREST API中心に構築されたクリーンなアプリケーションは変更に強く拡張性に優れます。

## ライブラリ

BEAR.Sundayアプリケーションフレームワークはフルスタックフレームワークと違って認証やデータベースなどの特定の仕事のための独自のライブラリを持ちません。
高品質なAuraフレームワークのライブラリや、Packagistで利用可能なサードパーティのライブラリを使用します。

## リソース指向パターン

BEAR.SundayはMVCパターンではなく、Webアプリケーションの設計をリソース（データやビジネスロジック）を中心に設計を行うパターンです。RESTful APIの設計でよく使用されるパターンですが、Webアプリケーション全体の設計にも適用します。リソース指向パターンの主な特徴は以下の通りです：

- **リソースの特定**：アプリケーションで扱うデータやビジネスロジックをリソースとして特定し、統一された識別子(URI)で表現します（例：/user、/orderなど）。

- **リソースの操作**：リソースに対する操作をHTTPメソッド（GET、POST、PUT、DELETEなど）にマッピングします。これにより、リソースに対する操作が統一的かつ直感的になります。

- **ステートレス性**：リソース指向パターンでは、サーバーはクライアントの状態を保持せず、各リクエストに必要な情報をすべて含めます。これにより、スケーラビリティと信頼性が向上します。

### リソース指向パターンの利点

リソース指向パターンに採用で、WebアプリケーションがRESTfulである事の利点をアプリケーション内部設計でも享受ます。

- **メンテナンスの容易さ**: リソース指向パターンでは、 各リソースが独立しているため、特定のリソースや機能に対する変更が他の部分に影響を与えにくくなります。これにより、アプリケーションのメンテナンスや将来的なアップデートが容易になります。

- **開発速度の向上**: RESTの設計原則に従っているため、開発者は一貫性のあるルールセットに従って効率的に作業することができます。また、リソースの明確な定義と操作方法の標準化により、チームでのコラボレーションや継続性が向上します。

- **アプリケーションの拡張性**: リソース指向パターンは、後方互換性を確保しながら新しいリソースの追加や既存リソースの更新を容易にするための柔軟性を提供します。アプリケーションの成長に伴う拡張ニーズに対応する事が容易です。

- **キャッシング**
  リソース指向パターンは、Web本来の分散システムのキャッシングを実現します。詳しくは後述します。

- **接続性**:
  リソース指向パターンでは、URIでステートレスにリクエストを行うため、他のアプリケーションやデバイスからも容易にアクセスできます。詳しくは後述します。

## 長期的な視点

BEAR.Sundayは、変更容易性を保ちながら、アプリケーションの長期的な維持を可能にするために設計されています。

- **制約**: DIとAOPに基づいたオブジェクト制約や、RESTの制約に基き一貫したアプリケーション制約は変わることがありません。

- **永遠の1.x**: 2015年の1.0リリース以来、後方互換性の破壊を伴う変更がありません。定期的な互換性対応の改修とそのテストが必要という負債がありません。アプリケーションは常に最新のバージョンにアップグレード可能です。

- **クリーンな設計**: コンポーネントとの密結合を避け、DIとAOPによる疎結合を実現します。ライブラリと疎結合なのでフレームワークのグローバルなバージョニングもありません。バージョンロックはアプリケーションが行います。

- **クリーンなランタイム**: BEAR.Sundaアプリケーションは異なるアプリケーションが同一のPHPランタイムで実行できるほどクリーンです。グローバルな参照が何もありません。

- **標準準拠**：HTTP標準やJsonSchemaなどの標準に可能な限り従っています。またDIはGoogle Guice、AOPはJaveのAop Allianceに基づいています。

## 接続性

BEAR.Sundayは、様々なクライアントとの接続性を重視しています。Webアプリケーションだけでなく、コンソールアプリケーションやモバイルアプリケーションなど、さまざまなクライアントとの統合を容易にします。

- **HTTPクライアント**:
  HTTPクライアントを使用して全てのリソースにアクセスすることが可能です。MVCのモデルやコントローラーと違い、BEAR.Sundayのリソースは直接のアクセスが可能です。

- **composerパッケージ**:
  composerでvednor下にインストールしたアプリケーションのリソースを直接呼び出す事ができます。これによりマイクロサービスやHTTPを解さずとも独立した複数のアプリケーションを協調する事ができます。

- **多言語フレームワーク**:
  BEAR.SundayはPHPのフレームワークですが、BEAR.Thriftを使って他の言語のとも連携が可能です。異なるバージョンのPHPのBEARアプリケーションとも連携が可能です。その際URIのホストが変わるだけのシームレスな連携が可能です。

## キャッシング

リソース指向パターンは、Webが本来持つべき分散キャシングを可能にします。

- **分散キャッシュ**: キャッシュはクライアント、CDN、サーバーサイドに保存されCPUコストだけでなくネットワークコストも削減します。

- **同一性確認**:
  キャッシュされたコンテンツは同一性確認のためのETagが付与され、コンテンツの変更があった場合のみコンテンツを再取得する事でネットワークコストを削減します。

- **堅牢性**:
  イベントドリブンコンテンツの採用でCDNを中心としたキャッシュのシステムはPHPやDBがダウンしてもキャッシュされたコンテンツを返す事ができます。堅牢性とパフォーマンス、コスト全てが最適化された状態のサービスを提供する事ができます。

## パフォーマンス

BEAR.Sundayは、高いパフォーマンスを発揮するように設計されています。以下のような特徴により、アプリケーションの速度と効率性を向上させます。

- **インジェクションとコンパイル**: BEAR.Sundayは、依存関係の注入をコンパイル時に行うことで、実行時のオーバーヘッドを最小限に抑えます。これにより、アプリケーションの起動と実行が高速化されます。

- **キャッシング**: 前述のようにBEAR.Sundayは、リソース指向のアーキテクチャを採用しているため、キャッシングが容易です。CDNを中心としたキャッシングにより、PHPの実行やDBアクセスを最小限に抑え、高いパフォーマンスを実現します。

- **高速起動**: フレームワークの機能をDIのルートオブジェクト1つの変数として保存し、都度再利用することで、最小限のブートストラップを実現します。Swooleなどのランタイムを使うと、リクエストの度にフレームワークの初期化が不要となり、超高速なレスポンスを実現できます。

## Beacuase Everything is a Resource

BEAR.Sundayは、標準準拠、拡張性、メンテナンス性に重点を置いたフレームワークです。アプリケーションの長期的な維持管理を容易にし、開発者の生産性とアプリケーションのパフォーマンスを向上させます。
